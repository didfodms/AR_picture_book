<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>엄마 북스</title>
    <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
    <script src="https://rawgit.com/mayognaise/aframe-gif-shader/master/dist/aframe-gif-shader.min.js"></script>
    <script data-main="scripts/main" src="scripts/require.js"></script>
  </head>
  <body style="margin: 0px; overflow: hidden">
    <a-scene embedded arjs>
      <script>
        AFRAME.registerPrimitive("a-background", {
          // Attaches the `ocean` component by default.
          // Defaults the ocean to be parallel to the ground.
          defaultComponents: {
            background: {},
            position: { x: 0, y: 0, z: 0 },
            rotation: { x: -90, y: 0, z: 0 },
            scale: { x: 5, y: 5, z: 0 },
          },

          // Maps HTML attributes to the `ocean` component's properties.
          mappings: {
            scale: "background.scale",
          },
        });
      </script>
      <a-assets>
        <!-- ... -->
        <img id="b1-p1-bg" src="assets/book1/page1/background.png" />
        <img id="b1-p1-bg2" src="assets/book1/page1/background2.png" />
        <img id="b1-p1-ob" src="assets/book1/page1/object.png" />
        <img id="b1-p1-o1" src="assets/book1/page1/object1.png" />
        <img id="b1-p1-o2" src="assets/book1/page1/object2.png" />

        <audio
          id="b1-p1-so"
          src="assets/book1/page1/sound.mp3"
          type="audio/mp3"
          preload="auto"
        ></audio>
      </a-assets>

      <!--
      <a-sound src="src: url(click.mp3)" autoplay="true" position="0 0 0">
      </a-sound>
      -->

      <a-marker preset="hiro">
        <a-sound src="src: url(assets/book1/page1/sound.mp3)" autoplay="true">
        </a-sound>
        <a-entity rotation="-90 0 0">
          <a-image
            src="#b1-p1-bg2"
            position="0 2.5 0"
            rotation="0 0 0"
            scale="10 10 10"
          ></a-image>
          <a-image
            src="#b1-p1-o1"
            position="0 2.5 0.3"
            rotation="0 0 0"
            scale="10 10 10"

            animation__jump="property:position; dir:alternate; dur:1000; to : 0 5 0.3; easing:easeInOutQuad; loop:true;"
          >
          </a-image>
          <a-image
            src="#b1-p1-o2"
            position="0 2.5 0.3"
            rotation="0 0 0"
            scale="10 10 10"

            animation__jump="property:position; dir:alternate; dur:1000; to : 0 5 0.3; easing:easeInOutQuad; loop:true;"
          >
          </a-image>
      </a-entity>
      </a-marker>
      <a-marker preset="kanji">
        <!-- <a-sound src="src: url(assets/book1/page1/sound.mp3)" autoplay="true"> -->
        </a-sound>
        <a-image
          src="#b1-p1-bg"
          position="0 2.5 0"
          rotation="0 0 0"
          scale="5 5 5"
        ></a-image>
        <a-image
          src="#b1-p1-ob"
          position="0 2.5 0.3"
          rotation="0 0 0"
          scale="5 5 5"
          animation="property:scale; dir:alternate; dur:1000; to: 5.5 5 5; easing:easeInOutQuad; loop:true;"
          animation__jump="property:position; dir:alternate; dur:1000; to : 0 5 0.3; easing:easeInOutQuad; loop:true;"
        >
        </a-image>
      </a-marker>

      <a-entity camera></a-entity>
    </a-scene>
  </body>
</html>

<!-- sound url
  free sound에 올려야 함
  이미지는 imgur에..
  https://cdn.aframe.io/basic-guide/audio/backgroundnoise.wav

  https://drive.google.com/file/d/1axhcotu8NpitGdegKNxBE1NZkbMlH8We/view?usp=sharing
-->
